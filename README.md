## SmarThingLib - библиотека для разработка IOT устройств. Позволяет быстро создавать прошивки IOT устройств путем реализации базового функционала IOT устройства.

### С помощью библиотеки SmarThingLib можно легко настроить:
- тип и имя устройства;
- действия устройства;
- сенсоры и состояния;
- список конфигураций (настроек устройства).

### В SmarThingLib уже реализована логика:
- сохранения настроек в EEPROM устройства (имя устройства, настройки WiFi, конфигурация и хуки);
- подключения к WiFi сети;
- хуков для сенсоров и состояний;
- планового вызова настроенных действий;
- взаимодействия по REST Api;
- своей WEB страницы для управления устройством;
- конфигурации mDNS - устройства доступны по адресу http://{имя_устройства}-st.local;
- маяк в multicast группе для быстрого посика устройств в сети;
- tcp/multicast/Serial логгера для отладки устройства.

### Кроме того, имеется возможность гибкой настройки встроенного функционала.
Например, если у устройства не подразумевается никаких действий, то весь связанный функционал можно отключить с помощью макроса.
Это позволит уменьшить размер прошивки и освободить место для вашей логики.

### Поддерживаемые платформы:
- ESP32 - разработка базового функционала завершена, в данный момент ведется рефакторинг.
- ESP8266 - возможны ошибки, в процессе доработки. Некоторые ошибки возникают из-за встроенных библиотек.

### Для работы требуются следующие библиотеки:
```
bblanchon/ArduinoJson@^7.0.4
esphome/ESPAsyncWebServer-esphome@^3.2.2
```
Рекомендую использовать PlatformIO для разработки. Для добавления библиотеки в проект склонируйте данный репозиторий в папку lib своего проекта.

### Для простого старта можно воспользоваться [конфигуратором](https://pobopo.ru/st/builder/) прошивок.
Однако он имеет достаточно просто функционал и не подойдет для реализации сложных устройств.
Однако это отличный вариант для начала изучения возможностей библиотеки.

### Примеры использования библиотеки:
- [Прошивка для тестирования библиотеки.](https://github.com/PavelProjects/SmartThingLibTest) Наиболее актуальный проект в плане применения API библиотеки. Рекомендую использовать ее для изучения возможностей библиотеки.
- [Простая метеостанция.](https://github.com/PavelProjects/meteo_station)
- [Автоматические жалюзи на базе esp32.](https://github.com/PavelProjects/SmarThingtLouver)
